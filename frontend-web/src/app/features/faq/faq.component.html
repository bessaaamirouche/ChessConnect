<div class="faq-wrapper">
  <app-public-navbar [links]="navLinks"></app-public-navbar>

  <!-- Main Content -->
  <main class="faq-page">
    <header class="faq-header">
      <ng-icon name="heroQuestionMarkCircle" size="48"></ng-icon>
      <h1>{{ 'faq.title' | translate }}</h1>
      <p>{{ 'faq.subtitle' | translate }}</p>
    </header>

    <nav class="faq-categories">
      @for (cat of categories; track cat.id) {
        <button
          class="faq-category"
          [class.faq-category--active]="activeCategory() === cat.id"
          (click)="setCategory(cat.id)"
        >
          {{ cat.labelKey | translate }}
        </button>
      }
    </nav>

    <div class="faq-list">
      @for (faq of filteredFaqs; track faq.questionKey; let i = $index) {
        <div class="faq-item" [class.faq-item--open]="openIndex() === i">
          <button class="faq-item__question" (click)="toggleFaq(i)">
            <span>{{ faq.questionKey | translate }}</span>
            <ng-icon
              [name]="openIndex() === i ? 'heroChevronUp' : 'heroChevronDown'"
              size="20"
            ></ng-icon>
          </button>
          @if (openIndex() === i) {
            <div class="faq-item__answer">
              <p>{{ faq.answerKey | translate }}</p>
            </div>
          }
        </div>
      }
    </div>

    <section class="faq-contact">
      <h2>{{ 'faq.contact.title' | translate }}</h2>
      <p>{{ 'faq.contact.subtitle' | translate }}</p>
      <a href="mailto:support@mychess.fr" class="btn btn--primary">
        {{ 'faq.contact.cta' | translate }}
      </a>
    </section>
  </main>

  <app-footer></app-footer>
</div>
