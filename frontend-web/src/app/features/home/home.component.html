<div class="landing">
  <!-- Scroll Progress Bar -->
  <div class="scroll-progress">
    <div class="scroll-progress__bar" [style.transform]="'scaleX(' + scrollProgress() + ')'"></div>
  </div>

  <!-- Navbar -->
  <nav class="nav" [class.nav--scrolled]="isScrolled()">
    <div class="nav__container">
      <a routerLink="/" class="nav__logo">
        <img src="assets/logo.png" alt="myChess" class="nav__logo-img">
      </a>

      <!-- Mobile hamburger -->
      <button class="nav__hamburger" [class.active]="mobileMenuOpen()" (click)="toggleMobileMenu()">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <!-- Mobile menu overlay -->
      <div class="nav__mobile-overlay" [class.active]="mobileMenuOpen()" (click)="closeMobileMenu()"></div>

      <!-- Desktop Pill Tabs Navigation (Disney+ style) -->
      <div class="nav__pills">
        <a href="#features"
           class="nav__pill"
           [class.nav__pill--active]="activeSection() === 'features'"
           (click)="scrollToSection('features')">Avantages</a>
        <a href="#levels"
           class="nav__pill"
           [class.nav__pill--active]="activeSection() === 'levels'"
           (click)="scrollToSection('levels')">Parcours</a>
        <a href="#how-it-works"
           class="nav__pill"
           [class.nav__pill--active]="activeSection() === 'how-it-works'"
           (click)="scrollToSection('how-it-works')">Fonctionnement</a>
        <a routerLink="/teachers" class="nav__pill">Nos coachs</a>
        <a routerLink="/blog" class="nav__pill">Blog</a>
      </div>

      <!-- Mobile Drawer Menu -->
      <div class="nav__links" [class.active]="mobileMenuOpen()">
        <a href="#features" (click)="scrollToSection('features'); closeMobileMenu()">Avantages</a>
        <a href="#levels" (click)="scrollToSection('levels'); closeMobileMenu()">Parcours</a>
        <a href="#how-it-works" (click)="scrollToSection('how-it-works'); closeMobileMenu()">Fonctionnement</a>
        <a routerLink="/teachers" (click)="closeMobileMenu()">Nos coachs</a>
        <a routerLink="/pricing" (click)="closeMobileMenu()">Tarifs</a>
        <a routerLink="/blog" (click)="closeMobileMenu()">Blog</a>

        <!-- Mobile-only auth buttons -->
        <div class="nav__mobile-actions">
          @if (authService.isAuthenticated()) {
            <a routerLink="/dashboard" class="nav__btn nav__btn--primary" (click)="closeMobileMenu()">Mon Espace</a>
          } @else {
            <a routerLink="/login" class="nav__btn nav__btn--ghost" (click)="closeMobileMenu()">Connexion</a>
            <a routerLink="/register" class="nav__btn nav__btn--primary" (click)="closeMobileMenu()">Commencer</a>
          }
        </div>
      </div>

      <div class="nav__actions">
        @if (authService.isAuthenticated()) {
          <a routerLink="/dashboard" class="nav__btn nav__btn--primary">Mon Espace</a>
        } @else {
          <a routerLink="/login" class="nav__btn nav__btn--ghost">Connexion</a>
          <a routerLink="/register" class="nav__btn nav__btn--primary">Commencer</a>
        }
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="main">
    <!-- HERO SECTION -->
    <section class="hero" id="hero">
      <div class="hero__bg">
        <div class="hero__gradient"></div>
        <div class="hero__pattern"></div>
      </div>

      <!-- Floating chess pieces decoration -->
      <div class="hero__decor hero__decor--king">&#9812;</div>
      <div class="hero__decor hero__decor--queen">&#9813;</div>
      <div class="hero__decor hero__decor--knight">&#9816;</div>
      <div class="hero__decor hero__decor--rook">&#9814;</div>

      <div class="hero__content">
        <img src="assets/chess-pieces-hero.png" alt="Pieces d'echecs" class="hero__image" appScrollReveal="fade-up">

        <h1 class="hero__title hero__title--compact" appScrollReveal="fade-up" [revealDelay]="100">
          Envie de progresser aux <span class="gold-text">Echecs</span> ?
        </h1>

        <p class="hero__subtitle" appScrollReveal="fade-up" [revealDelay]="200">
          Un accompagnement d'excellence, adapte a votre niveau.
        </p>

        <div class="hero__cta" appScrollReveal="fade-up" [revealDelay]="300">
          <a routerLink="/register" class="btn btn--primary btn--lg">
            Commencer gratuitement
          </a>
        </div>

      </div>

      <button
        class="hero__scroll-indicator"
        (click)="scrollToSection('features')"
        aria-label="DÃ©filer vers la section suivante"
      >
        <span>Decouvrir</span>
        <div class="hero__scroll-arrow"></div>
      </button>
    </section>

    <!-- FEATURES SECTION -->
    <section class="section section--features" id="features">
      <div class="section__container">
        <div class="section__header" appScrollReveal="fade-up">
          <h2 class="section__title">Vous voulez progresser <span class="gold-text">a votre rythme ?</span></h2>
        </div>

        <div class="features-grid" appStaggerReveal>
          <div class="feature-card" appScrollReveal="fade-up">
            <div class="feature-card__icon">
              <ng-icon name="heroVideoCamera" size="32"></ng-icon>
            </div>
            <h3 class="feature-card__title">Cours en visio</h3>
            <p class="feature-card__desc">
              Apprenez depuis chez vous avec un echiquier interactif partage avec votre coach.
            </p>
          </div>

          <div class="feature-card" appScrollReveal="fade-up" [revealDelay]="100">
            <div class="feature-card__icon">
              <ng-icon name="heroChartBar" size="32"></ng-icon>
            </div>
            <h3 class="feature-card__title">Parcours structure</h3>
            <p class="feature-card__desc">
              5 niveaux progressifs pour apprendre les echecs etape par etape, de debutant a expert.
            </p>
          </div>

          <div class="feature-card" appScrollReveal="fade-up" [revealDelay]="200">
            <div class="feature-card__icon">
              <ng-icon name="heroClock" size="32"></ng-icon>
            </div>
            <h3 class="feature-card__title">Horaires flexibles</h3>
            <p class="feature-card__desc">
              Reservez vos cours selon vos disponibilites, 7j/7, matin comme soir.
            </p>
          </div>

          <div class="feature-card" appScrollReveal="fade-up" [revealDelay]="300">
            <div class="feature-card__icon">
              <ng-icon name="heroShieldCheck" size="32"></ng-icon>
            </div>
            <h3 class="feature-card__title">Premier cours offert</h3>
            <p class="feature-card__desc">
              Testez sans engagement. Paiement securise par Stripe pour les cours suivants.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- LEVELS SECTION -->
    <section class="section section--levels" id="levels">
      <div class="section__container">
        <div class="section__header" appScrollReveal="fade-up">
          <h2 class="section__title">Quel est votre <span class="gold-text">niveau actuel ?</span></h2>
        </div>

        <div class="levels-timeline">
          <div class="levels-timeline__line"></div>

          <div class="level-item" appScrollReveal="fade-left">
            <div class="level-item__badge level-item__badge--pion">&#9823;</div>
            <div class="level-item__content">
              <span class="level-item__tag">Debutant</span>
              <h3 class="level-item__title">Pion</h3>
              <p class="level-item__desc">Decouvrez l'echiquier et ses secrets. Premiers pas vers la maitrise du jeu.</p>
            </div>
          </div>

          <div class="level-item level-item--right" appScrollReveal="fade-right">
            <div class="level-item__badge level-item__badge--cavalier">&#9822;</div>
            <div class="level-item__content">
              <span class="level-item__tag">Intermediaire</span>
              <h3 class="level-item__title">Cavalier</h3>
              <p class="level-item__desc">Dominez le centre et construisez des positions solides. L'art de l'ouverture.</p>
            </div>
          </div>

          <div class="level-item" appScrollReveal="fade-left">
            <div class="level-item__badge level-item__badge--fou">&#9821;</div>
            <div class="level-item__content">
              <span class="level-item__tag">Confirme</span>
              <h3 class="level-item__title">Fou</h3>
              <p class="level-item__desc">Affutez votre vision tactique. Anticipez et calculez comme un joueur aguerri.</p>
            </div>
          </div>

          <div class="level-item level-item--right" appScrollReveal="fade-right">
            <div class="level-item__badge level-item__badge--tour">&#9820;</div>
            <div class="level-item__content">
              <span class="level-item__tag">Avance</span>
              <h3 class="level-item__title">Tour</h3>
              <p class="level-item__desc">Maitrisez les finales et les subtilites strategiques des grands joueurs.</p>
            </div>
          </div>

          <div class="level-item level-item--featured" appScrollReveal="scale-up">
            <div class="level-item__badge level-item__badge--dame">&#9819;</div>
            <div class="level-item__content">
              <span class="level-item__tag">Expert</span>
              <h3 class="level-item__title">Dame</h3>
              <p class="level-item__desc">Jouez au plus haut niveau. Preparation sur mesure pour la competition.</p>
            </div>
          </div>
        </div>

        <div class="section__cta" appScrollReveal="fade-up">
          <a routerLink="/register" class="btn btn--primary btn--lg">
            Evaluer mon niveau
          </a>
        </div>
      </div>
    </section>

    <!-- HOW IT WORKS SECTION -->
    <section class="section section--how" id="how-it-works">
      <div class="section__container">
        <div class="section__header" appScrollReveal="fade-up">
          <span class="section__eyebrow">Pret a commencer ?</span>
          <h2 class="section__title">Votre premier cours<br><span class="gold-text">en 3 minutes</span></h2>
        </div>

        <div class="steps">
          <div class="step" appScrollReveal="fade-up">
            <div class="step__number">01</div>
            <div class="step__content">
              <h3 class="step__title">Inscription rapide</h3>
              <p class="step__desc">Creez votre compte gratuitement et evaluez votre niveau avec notre quiz.</p>
            </div>
            <div class="step__visual">
              <div class="step__icon">
                <ng-icon name="heroUserPlus" size="40"></ng-icon>
              </div>
            </div>
          </div>

          <div class="step step--reverse" appScrollReveal="fade-up" [revealDelay]="150">
            <div class="step__number">02</div>
            <div class="step__content">
              <h3 class="step__title">Choisissez un coach</h3>
              <p class="step__desc">Consultez les profils, tarifs et disponibilites pour trouver le coach qui vous convient.</p>
            </div>
            <div class="step__visual">
              <div class="step__icon">
                <ng-icon name="heroUsers" size="40"></ng-icon>
              </div>
            </div>
          </div>

          <div class="step" appScrollReveal="fade-up" [revealDelay]="300">
            <div class="step__number">03</div>
            <div class="step__content">
              <h3 class="step__title">Reservez votre cours</h3>
              <p class="step__desc">Selectionnez un creneau et commencez votre premier cours - c'est offert !</p>
            </div>
            <div class="step__visual">
              <div class="step__icon">
                <ng-icon name="heroCalendar" size="40"></ng-icon>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer__container">
      <div class="footer__main">
        <div class="footer__brand">
          <img src="assets/logo.png" alt="myChess" class="footer__logo">
        </div>

        <div class="footer__columns">
          <div class="footer__column">
            <h4>Plateforme</h4>
            <a routerLink="/teachers">Nos coachs</a>
            <a routerLink="/pricing">Tarifs</a>
            <a routerLink="/register">S'inscrire</a>
            <a routerLink="/login">Connexion</a>
          </div>

          <div class="footer__column">
            <h4>Ressources</h4>
            <a routerLink="/blog">Blog</a>
            <a href="#">FAQ</a>
            <a href="#">Support</a>
          </div>

          <div class="footer__column">
            <h4>Contact</h4>
            <a href="mailto:support@mychess.fr">support&#64;mychess.fr</a>
            <a href="mailto:partenaires@mychess.fr">partenaires&#64;mychess.fr</a>
          </div>
        </div>
      </div>

      <div class="footer__divider"></div>

      <div class="footer__bottom">
        <p class="footer__copyright">&copy; 2026 mychess. Tous droits reserves.</p>
        <div class="footer__legal">
          <a href="#">Confidentialite</a>
          <a href="#">CGU</a>
          <a href="#">Mentions legales</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Free Trial Popup Banner -->
  @if (showPromoPopup()) {
    <div class="promo-popup" [class.promo-popup--expanded]="promoExpanded()">
      @if (!promoExpanded()) {
        <!-- Collapsed: just the gift icon -->
        <button class="promo-popup__trigger" (click)="expandPromo()">
          <ng-icon name="heroGift" size="24"></ng-icon>
        </button>
      } @else {
        <!-- Expanded: full content with close button outside -->
        <button class="promo-popup__close" (click)="closePromoPopup()" aria-label="Fermer">
          <ng-icon name="heroXMark" size="12"></ng-icon>
        </button>
        <div class="promo-popup__content">
          <ng-icon name="heroGift" size="18"></ng-icon>
          <span>Premier cours <strong>gratuit</strong> pour les 100 premiers inscrits !</span>
          <a routerLink="/register" class="promo-popup__btn">J'en profite</a>
        </div>
      }
    </div>
  }
</div>
