<div class="pricing-page">
  <!-- Public Navbar -->
  <nav class="public-nav">
    <div class="public-nav__container">
      <a routerLink="/" class="public-nav__logo">
        <img src="assets/logo.png" alt="mychess" class="public-nav__logo-img">
      </a>
      <div class="public-nav__links">
        <a routerLink="/" class="public-nav__link">Accueil</a>
        <a routerLink="/teachers" class="public-nav__link">Coachs</a>
        <a routerLink="/blog" class="public-nav__link">Blog</a>
      </div>
      <div class="public-nav__actions">
        @if (authService.isAuthenticated()) {
          <a routerLink="/dashboard" class="btn btn--primary btn--sm">Mon Espace</a>
        } @else {
          <a routerLink="/login" class="btn btn--ghost btn--sm">Connexion</a>
          <a routerLink="/register" class="btn btn--primary btn--sm">S'inscrire</a>
        }
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="pricing-content">
    <!-- Hero Section -->
    <header class="pricing-hero">
      <div class="pricing-hero__badge">
        <ng-icon name="heroGift" size="16"></ng-icon>
        <span>Premier cours offert</span>
      </div>
      <h1 class="pricing-hero__title">Nos Tarifs</h1>
      <p class="pricing-hero__subtitle">
        Cours payés directement au coach, avec option Premium pour plus d'avantages
      </p>
    </header>

    <!-- Free Trial Banner -->
    <div class="free-trial-banner">
      <div class="free-trial-banner__content">
        <ng-icon name="heroGift" size="24"></ng-icon>
        <div>
          <h3>Premier cours 100% gratuit</h3>
          <p>Testez notre plateforme sans engagement. Inscrivez-vous et réservez votre premier cours offert !</p>
        </div>
      </div>
      <a routerLink="/register" class="btn btn--primary">Commencer gratuitement</a>
    </div>

    <!-- Single Lesson Section -->
    <section class="single-lesson-section">
      <h2 class="section-title">Cours à l'unité</h2>
      <p class="section-subtitle">Réservez des cours avec le coach de votre choix au tarif qu'il pratique</p>

      <div class="single-lesson-card">
        <div class="single-lesson-card__content">
          <div class="single-lesson-card__info">
            <h3>Cours individuel</h3>
            <p>1 heure avec un coach certifié</p>
          </div>
          <div class="single-lesson-card__price">
            <span class="price-range">30€ - 80€</span>
            <span class="price-note">selon le coach</span>
          </div>
        </div>
        <ul class="single-lesson-card__features">
          <li><ng-icon name="heroCheck" size="16"></ng-icon> Visioconférence HD intégrée</li>
          <li><ng-icon name="heroCheck" size="16"></ng-icon> Choisissez votre coach</li>
          <li><ng-icon name="heroCheck" size="16"></ng-icon> Paiement direct au coach</li>
          <li><ng-icon name="heroCheck" size="16"></ng-icon> Paiement sécurisé Stripe</li>
        </ul>
        <a routerLink="/teachers" class="btn btn--outline btn--lg">Voir les coachs</a>
      </div>
    </section>

    <!-- Premium Section -->
    <section class="plans-section">
      <h2 class="section-title">Abonnement Premium</h2>
      <p class="section-subtitle">Débloquez des fonctionnalités exclusives pour seulement 4,99€/mois</p>

      @if (paymentService.loading()) {
        <div class="loading-state">
          <span class="spinner spinner--lg"></span>
        </div>
      } @else {
        <div class="premium-plan-container">
          @for (plan of paymentService.plans(); track plan.code) {
            <div class="plan-card plan-card--premium plan-card--popular">
              <div class="plan-card__badge plan-card__badge--gold">
                <ng-icon name="heroSparkles" size="14"></ng-icon>
                Premium
              </div>

              <div class="plan-card__header">
                <h3 class="plan-card__name">{{ plan.name }}</h3>
                <div class="plan-card__price">
                  <span class="plan-card__price-amount">{{ formatPrice(plan.priceCents) }}</span>
                  <span class="plan-card__price-period">/mois</span>
                </div>
                <p class="plan-card__tagline">Fonctionnalités exclusives</p>
              </div>

              <ul class="plan-card__features">
                @for (feature of plan.features; track feature) {
                  <li>
                    <ng-icon name="heroCheck" class="plan-card__feature-check"></ng-icon>
                    {{ feature }}
                  </li>
                }
              </ul>

              @if (authService.isAuthenticated()) {
                <a routerLink="/subscription" class="btn btn--primary plan-card__btn">
                  <ng-icon name="heroSparkles" size="16"></ng-icon>
                  Devenir Premium
                </a>
              } @else {
                <a routerLink="/register" class="btn btn--primary plan-card__btn">
                  Commencer
                </a>
              }
              <p class="plan-card__note">Sans engagement - Annulez à tout moment</p>
            </div>
          }
        </div>
      }
    </section>

    <!-- Benefits Section -->
    <section class="benefits-section">
      <h2 class="section-title">Pourquoi devenir Premium ?</h2>

      <div class="benefits-grid">
        <div class="benefit-card">
          <div class="benefit-card__icon"><ng-icon name="heroVideoCamera" size="32"></ng-icon></div>
          <h4>Revisionnage illimité</h4>
          <p>Accédez aux enregistrements de tous vos cours pour réviser</p>
        </div>
        <div class="benefit-card">
          <div class="benefit-card__icon"><ng-icon name="heroBell" size="32"></ng-icon></div>
          <h4>Notifications prioritaires</h4>
          <p>Soyez alerté quand vos coachs favoris publient des créneaux</p>
        </div>
        <div class="benefit-card">
          <div class="benefit-card__icon"><ng-icon name="heroClock" size="32"></ng-icon></div>
          <h4>Accès anticipé 24h</h4>
          <p>Réservez les meilleurs créneaux avant tout le monde</p>
        </div>
        <div class="benefit-card">
          <div class="benefit-card__icon"><ng-icon name="heroChartBar" size="32"></ng-icon></div>
          <h4>Statistiques avancées</h4>
          <p>Suivez votre progression avec des analyses détaillées</p>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
      <h2>Prêt à progresser aux échecs ?</h2>
      <p>Rejoignez notre communauté de joueurs qui progressent chaque jour avec mychess</p>
      <a routerLink="/register" class="btn btn--primary btn--xl">Commencer maintenant</a>
      <span class="cta-note">Premier cours offert. Sans engagement.</span>
    </section>
  </main>

  <!-- Footer -->
  <footer class="public-footer">
    <div class="public-footer__container">
      <div class="public-footer__brand">
        <img src="assets/logo.png" alt="mychess" class="public-footer__logo">
        <p>La plateforme de cours d'échecs en ligne n°1 en France.</p>
      </div>
      <div class="public-footer__links">
        <a routerLink="/">Accueil</a>
        <a routerLink="/teachers">Coachs</a>
        <a routerLink="/blog">Blog</a>
        <a routerLink="/register">S'inscrire</a>
      </div>
      <p class="public-footer__copyright">© 2026 mychess. Tous droits réservés.</p>
    </div>
  </footer>
</div>
