// ================================================
// Utility Classes
// ================================================

// === Spacing ===
@each $size, $value in (
  '0': 0,
  'xs': var(--space-xs),
  'sm': var(--space-sm),
  'md': var(--space-md),
  'lg': var(--space-lg),
  'xl': var(--space-xl),
  '2xl': var(--space-2xl),
  '3xl': var(--space-3xl)
) {
  .m-#{$size} { margin: #{$value}; }
  .mt-#{$size} { margin-top: #{$value}; }
  .mb-#{$size} { margin-bottom: #{$value}; }
  .ml-#{$size} { margin-left: #{$value}; }
  .mr-#{$size} { margin-right: #{$value}; }
  .mx-#{$size} { margin-left: #{$value}; margin-right: #{$value}; }
  .my-#{$size} { margin-top: #{$value}; margin-bottom: #{$value}; }

  .p-#{$size} { padding: #{$value}; }
  .pt-#{$size} { padding-top: #{$value}; }
  .pb-#{$size} { padding-bottom: #{$value}; }
  .pl-#{$size} { padding-left: #{$value}; }
  .pr-#{$size} { padding-right: #{$value}; }
  .px-#{$size} { padding-left: #{$value}; padding-right: #{$value}; }
  .py-#{$size} { padding-top: #{$value}; padding-bottom: #{$value}; }
}

// === Display ===
.hidden { display: none; }
.block { display: block; }
.inline-block { display: inline-block; }
.inline { display: inline; }

// === Visibility ===
.invisible { visibility: hidden; }
.visible { visibility: visible; }

// === Overflow ===
.overflow-hidden { overflow: hidden; }
.overflow-auto { overflow: auto; }
.overflow-scroll { overflow: scroll; }

// === Position ===
.relative { position: relative; }
.absolute { position: absolute; }
.fixed { position: fixed; }
.sticky { position: sticky; }

// === Width/Height ===
.w-full { width: 100%; }
.h-full { height: 100%; }
.min-h-screen { min-height: 100vh; }

// === Text alignment ===
.text-left { text-align: left; }
.text-center { text-align: center; }
.text-right { text-align: right; }

// === Font weight ===
.font-normal { font-weight: 400; }
.font-medium { font-weight: 500; }
.font-semibold { font-weight: 600; }
.font-bold { font-weight: 700; }

// === Cursor ===
.cursor-pointer { cursor: pointer; }
.cursor-not-allowed { cursor: not-allowed; }

// === Border radius ===
.rounded-none { border-radius: 0; }
.rounded-sm { border-radius: var(--radius-sm); }
.rounded { border-radius: var(--radius-md); }
.rounded-lg { border-radius: var(--radius-lg); }
.rounded-xl { border-radius: var(--radius-xl); }
.rounded-full { border-radius: var(--radius-full); }

// === Opacity ===
.opacity-0 { opacity: 0; }
.opacity-50 { opacity: 0.5; }
.opacity-75 { opacity: 0.75; }
.opacity-100 { opacity: 1; }

// === Transition ===
.transition { transition: all var(--transition-base); }
.transition-fast { transition: all var(--transition-fast); }
.transition-slow { transition: all var(--transition-slow); }

// === Truncate ===
.truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

// === Screen reader only ===
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

// === Divider ===
.divider {
  height: 1px;
  background: var(--border-subtle);
  margin: var(--space-lg) 0;
}

// === Avatar ===
.avatar {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--radius-full);
  background: var(--bg-elevated);
  color: var(--text-secondary);
  font-weight: 600;
  overflow: hidden;

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  &--sm { width: 32px; height: 32px; font-size: 0.75rem; }
  &--md { width: 40px; height: 40px; font-size: 0.875rem; }
  &--lg { width: 56px; height: 56px; font-size: 1.125rem; }
  &--xl { width: 80px; height: 80px; font-size: 1.5rem; }

  &--gold {
    border: 2px solid var(--gold-400);
  }
}

// === Loading Spinner ===
.spinner {
  width: 24px;
  height: 24px;
  border: 2px solid var(--border-default);
  border-top-color: var(--gold-400);
  border-radius: var(--radius-full);
  animation: spin 0.8s linear infinite;

  &--sm { width: 16px; height: 16px; }
  &--lg { width: 40px; height: 40px; border-width: 3px; }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

// === Skeleton loader ===
.skeleton {
  background: linear-gradient(
    90deg,
    var(--bg-tertiary) 0%,
    var(--bg-elevated) 50%,
    var(--bg-tertiary) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
  border-radius: var(--radius-sm);
}

@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
