// ================================================
// mychess - Design System "Échecs 2026"
// Dark Mode + Accents Or/Ivoire
// ================================================

// === Color Palette ===
:root {
  // Dark backgrounds
  --bg-primary: #0d0d0f;
  --bg-secondary: #16161a;
  --bg-tertiary: #1e1e24;
  --bg-elevated: #252530;

  // Gold accents
  --gold-100: #fff8e7;
  --gold-200: #ffe4a0;
  --gold-300: #ffd666;
  --gold-400: #d4a84b;
  --gold-500: #b8923a;
  --gold-600: #9a7a2f;

  // Ivory accents
  --ivory-100: #fffef9;
  --ivory-200: #f5f3eb;
  --ivory-300: #e8e4d9;
  --ivory-400: #d4cfc0;

  // Text colors
  --text-primary: #f5f3eb;
  --text-secondary: #a8a5a0;
  --text-muted: #6b6965;
  --text-inverse: #0d0d0f;

  // Semantic colors
  --success: #4ade80;
  --success-muted: #166534;
  --error: #f87171;
  --error-muted: #991b1b;
  --warning: #fbbf24;
  --warning-muted: #92400e;
  --info: #60a5fa;
  --info-muted: #1e40af;

  // Chess piece colors
  --chess-white: #f5f3eb;
  --chess-black: #1e1e24;
  --chess-board-light: #e8e4d9;
  --chess-board-dark: #769656;

  // Borders
  --border-subtle: rgba(255, 255, 255, 0.08);
  --border-default: rgba(255, 255, 255, 0.12);
  --border-strong: rgba(255, 255, 255, 0.2);
  --border-gold: rgba(212, 168, 75, 0.5);

  // Shadows
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.4);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.5);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.6);
  --shadow-xl: 0 8px 32px rgba(0, 0, 0, 0.3);
  --shadow-gold: 0 4px 20px rgba(212, 168, 75, 0.25);

  // === Linear.app Style Effects ===

  // Gradients atmosphériques
  --glow-gold: radial-gradient(600px circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(212, 168, 75, 0.06), transparent 40%);
  --glow-purple: radial-gradient(800px circle at 80% 20%, rgba(139, 92, 246, 0.04), transparent 50%);

  // Bordures Linear
  --border-glow: rgba(255, 255, 255, 0.06);
  --border-hover: rgba(255, 255, 255, 0.12);

  // Glassmorphism amélioré
  --glass-bg: rgba(22, 22, 26, 0.8);
  --glass-bg-solid: rgba(22, 22, 26, 0.95);
  --glass-blur: 16px;
  --glass-border: rgba(255, 255, 255, 0.08);

  // Card Linear
  --card-bg: rgba(22, 22, 26, 0.6);
  --card-border: rgba(255, 255, 255, 0.06);
  --card-border-hover: rgba(255, 255, 255, 0.12);
  --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);

  // Modal Linear
  --modal-bg: rgba(22, 22, 26, 0.95);
  --modal-border: rgba(255, 255, 255, 0.08);
  --modal-shadow: 0 0 0 1px rgba(255, 255, 255, 0.05), 0 24px 64px rgba(0, 0, 0, 0.4);

  // Spacing
  --space-xs: 0.25rem;
  --space-sm: 0.5rem;
  --space-md: 1rem;
  --space-lg: 1.5rem;
  --space-xl: 2rem;
  --space-2xl: 3rem;
  --space-3xl: 4rem;

  // Border radius
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-full: 9999px;

  // Typography - Space Grotesk pour les titres (moderne, échecs), Inter pour le corps
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-display: 'Space Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;

  // Transitions
  --transition-fast: 150ms ease;
  --transition-base: 250ms ease;
  --transition-slow: 400ms ease;

  // Z-index layers
  --z-dropdown: 100;
  --z-sticky: 200;
  --z-modal: 300;
  --z-overlay: 1000;
  --z-toast: 9000; // Au-dessus des overlays (1000) mais en dessous des dialogs critiques (10000)
}

// === SCSS Variables for mixins ===
// Breakpoints optimisés pour:
// - Mobile: < 640px
// - Tablette portrait: 640px - 768px
// - Tablette paysage: 768px - 1024px
// - PC 13 pouces: 1024px - 1366px
// - Desktop: > 1366px
$breakpoints: (
  xs: 480px,
  sm: 640px,
  md: 768px,
  lg: 1024px,
  xl: 1280px,
  laptop: 1366px,
  2xl: 1536px
);

// === Mixins ===
@mixin respond-to($breakpoint) {
  @if map-has-key($breakpoints, $breakpoint) {
    @media (min-width: map-get($breakpoints, $breakpoint)) {
      @content;
    }
  }
}

// Mobile-first: max-width pour cibler les petits écrans
@mixin respond-down($breakpoint) {
  @if map-has-key($breakpoints, $breakpoint) {
    @media (max-width: #{map-get($breakpoints, $breakpoint) - 1px}) {
      @content;
    }
  }
}

// Cibler une plage spécifique
@mixin respond-between($min, $max) {
  @if map-has-key($breakpoints, $min) and map-has-key($breakpoints, $max) {
    @media (min-width: map-get($breakpoints, $min)) and (max-width: #{map-get($breakpoints, $max) - 1px}) {
      @content;
    }
  }
}

@mixin glass-effect {
  background: rgba(30, 30, 36, 0.8);
  backdrop-filter: blur(12px);
  border: 1px solid var(--border-subtle);
}

@mixin glass-effect-linear {
  background: var(--glass-bg);
  backdrop-filter: blur(var(--glass-blur));
  -webkit-backdrop-filter: blur(var(--glass-blur));
  border: 1px solid var(--glass-border);
}

@mixin card-linear {
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: var(--radius-lg);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1);

  &:hover {
    border-color: var(--card-border-hover);
    transform: translateY(-2px);
    box-shadow: var(--card-shadow);
  }
}

@mixin card-linear-gold {
  @include card-linear;
  border-color: rgba(212, 168, 75, 0.2);

  &:hover {
    border-color: rgba(212, 168, 75, 0.4);
    box-shadow: 0 8px 32px rgba(212, 168, 75, 0.15);
  }
}

@mixin gold-gradient {
  background: linear-gradient(135deg, var(--gold-400) 0%, var(--gold-500) 100%);
}

@mixin gold-text {
  background: linear-gradient(135deg, var(--gold-300) 0%, var(--gold-500) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

@mixin hover-lift {
  transition: transform var(--transition-base), box-shadow var(--transition-base);

  &:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }
}

@mixin focus-ring {
  &:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px var(--bg-primary), 0 0 0 4px var(--gold-400);
  }
}
